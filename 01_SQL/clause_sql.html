<!doctype html>
<html lang="fr">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Bootstrap CSS v5.2.1 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />

  <link rel="stylesheet" href="assets/css/style.css">
  <title>clauses SQL</title>
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-sm navbar-light bg-light  border-bottom border-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#"><img src="assets/img/logo.png" alt="logo"></a>
        <button class="navbar-toggler d-lg-none" type="button" data-bs-toggle="collapse"
          data-bs-target="#collapsibleNavId" aria-controls="collapsibleNavId" aria-expanded="false"
          aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavId">
          <ul class="navbar-nav me-auto mt-2 mt-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="index.html">Acronyme</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="cours.html">cours</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="clause_sql.html">Les clauses SQL</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="pratique_sql.html">Pratique SQL</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>
  <div class="container p-2">
    <main>
      <div class="row border border-dark p-5 m-2">
        <div class="col-sm-12">
          <h2 class="text-center">1 - Les requêtes de base</h2>
          <hr>
        </div>
        <div class="col-sm-12 col-lg-10 mx-auto mt-5">
          <ul>
            <li>Créer une BDD : <strong>
                <pre>  CREATE DATABASE IF NOT EXISTS nomBdd</pre>
              </strong></li>
            <li>Supprimer une BDD : <strong>
                <pre>  DROP DATABASE IF EXISTS nomBdd</pre>
              </strong></li>
            <li>Observer la description d'une table : <strong>
                <pre>  DESC nomTable</pre>
              </strong></li>
            <li>Voir les BDD dans le serveur : <strong>
                <pre>  SHOW DATABASES</pre>
              </strong></li>
              <li>
                Rajouter un champ dans une table existante : <strong><code>ALTER TABLE nom_de_table ADD nom_nouvelle_colonne VARCHAR(255) AFTER nom_colonne_existante</code></strong>
              </li>
          </ul>
        </div>
      </div>

      <div class="row border border-dark p-5 m-2">
        <div class="col-sm-12">
          <h2 class="text-center">2 - Tables et colonnes</h2>
          <hr>
        </div>
        <div class="col-sm-12 col-lg-10 mx-auto mt-5">
          <ul>
            <li>Créer une BDD 'entreprise' : <strong>
                <pre>  CREATE DATABASE IF NOT EXISTS entreprise</pre>
              </strong></li>
            <li>Créer une table dans la BDD entreprise : <br>
              <strong>
                <pre>
  CREATE TABLE IF NOT EXISTS employes(
    id_employe INT(11) NOT NULL PRIMARY KEY AUTO_INCREMENT,
    prenom VARCHAR(20) NULL,
    nom VARCHAR(20) NULL,
    sexe ENUM ('f', 'm') NOT NULL,
    service VARCHAR(30) NULL,
    date_embauche DATE NULL,
    salaire FLOAT NULL
  )               </pre>
              </strong>
            </li>
            <li>Insérer des données dans une table :
              <strong>
                <pre>
  INSERT INTO employes (id_employe, prenom, nom, sexe, service, date_embauche, salaire)
    VALUES (350, 'Marc', 'ISAAC', 'm', 'direction', '2023-12-01', 5000),
    (380, 'Paul', 'PIERRARD', 'm', 'commercial', '2023-06-12', 2300);
    (381, 'Imane', 'NAJJAHI', 'f', 'comptabilité', '2023-06-18', 3000),
    (400, 'Spartak', 'SMBATYAN', 'm', 'informatique', '2022-05-30', 3200),
    (450, 'Semir', 'SARAJLIC', 'm', 'juridique', '2023-09-18', 5000),
    (510, 'Kaïss', 'BADI', 'm', 'contrôle', '2024-05-18', 2000),
    (550, 'Adama', 'CISSOKO', 'm', 'commercial', '2023-09-18', 2500),
    (600, 'Fabien', 'POTTIER', 'm', 'juridique', '2022-09-28', 5000),
    (700, 'Gary', 'MONTEIRO', 'm', 'informatique', '2022-05-28', 3300),
    (710, 'Axel', 'GRANSART', 'm', 'comptabilité', '2022-09-18', 5000),
    (810, 'Cleid', 'MANIGAT', 'm', 'contrôle', '2021-06-01', 2100),
    (910, 'Leila', 'EMBARK', 'f', 'secretariat', '2023-06-18', 2000),
    (950, 'Maureene', 'MAROLANY', 'f', 'secretariat', '2022-10-17', 2000),
    (980, 'Oceane', 'FOMEKOUONG', 'f', 'direction', '2020-02-08', 4000)
                  </pre>
              </strong>
            </li>
            <li>Syntaxe alternative : ne permet pas d'insérer plusieurs séries de valeurs en une seule requête,
              contrairement à la syntaxe de base (au dessus)
              <strong>
                <pre>
  INSERT INTO employes SET id_employe = 900, prenom = 'Sahar', nom = 'FERCHICHI',
  sexe = 'f', service = 'direction', date_embauche = '2022-06-06', salaire = 7000
                  </pre>
              </strong>
            </li>
            <li>Effacer une table :
              <strong>
                <pre>
  DROP TABLE nomTable
                  </pre>
              </strong>
            </li>
          </ul>
        </div>
      </div>

      <div class="row border border-dark p-5 m-2">
        <div class="col-sm-12">
          <h2 class="text-center">3 - SELECT et DISTINCT</h2>
          <hr>
        </div>
        <div class="col-sm-12 col-lg-10 mx-auto mt-5">
          <ul>
            <li>Pour voir tout le contenu d'une table :
              <strong>(* => all)
                <pre>
  SELECT * FROM employes
                  </pre>
              </strong>
            </li>
            <li class="alert alert-success ">Sélectionner les valeurs de deux champs d'une table : SELECT colonne1,
              colonne2, ... FROM nomTable
              <strong>
                <pre>
  SELECT prenom, nom FROM employes
  SELECT prenom, date_embauche, service FROM employes;
                  </pre>
              </strong>
            </li>
            <li class="alert alert-success ">Afficher les données sans doublons : SELECT DISTINCT colonne FROM nomTable
              <strong>
                <pre>
  SELECT DISTINCT service FROM employes
                  </pre>
              </strong>
            </li>
            <li>Effacer un enregistrement : DELETE FROM nomTable WHERE colonne = ''
              <strong>
                <pre>
                    DELETE FROM employes WHERE nom = 'Salimata'
                  </pre>
              </strong>
            </li>
            <li>
              Effacer un enregistrement: DELETE FORM nomTabl WHERE colonne - ""
              <strong> <code>DELETE FROM employes WHERE prenom = ' Salimata'</code></strong>
            </li>
          </ul>
        </div>
        <div class=" col-sm-12 col-md-6 mx-auto mt-5">
          <p class="alert alert-danger">Les requêtes ne sont pas sensible à la casse mais une convention indique qu'il
            faut mettre les mots-clés des requêtes en MAJUSCULE. C'est plus facile pour s'y retrouver.
          </p>
        </div>
      </div>

      <div class="row border border-dark p-5 m-2">
        <div class="col-sm-12">
          <h2 class="text-center">4 - Les opérateurs de comparaison</h2>
          <hr>
        </div>
        <div class="col-sm-12 col-md-6 mx-auto mt-5">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">Opérateur</th>
                <th scope="col">Signification</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th scope="row">=</th>
                <td> Est égale à </td>
              </tr>
              <tr>
                <th scope="row">&gt;</th>
                <td>Strictement supérieur à </td>
              </tr>
              <tr>
                <th scope="row">&lt;</th>
                <td> Strictement inférieur à</td>
              </tr>
              <tr>
                <th scope="row">&gt;=</th>
                <td>Supérieur ou égal à </td>
              </tr>
              <tr>
                <th scope="row">&lt;=</th>
                <td> Inférieur ou égal à </td>
              </tr>
              <tr>
                <th scope="row">&lt; &gt; ou !=</th>
                <td>Est différent de </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-md-10 mx-auto">
          <p>Exercices :
          <ul>
            <li>Afficher les employés uniquement du service commercial:
              <strong>
                <pre>
  SELECT * FROM employes WHERE service = 'commercial';
                  </pre>
              </strong>
            </li>
            <li>Afficher les employés de tout les services sauf la direction :
              <strong>
                <pre>
  SELECT prenom, service FROM employes WHERE service != 'direction';
                  </pre>
              </strong>
            </li>
            <li>Afficher les employés dont l'id est supérieur à 500 :
              <strong>
                <pre>
  SELECT prenom, service, id_employe FROM employes WHERE id_employe > 500;
                  </pre>
              </strong>
            </li>
            <li>Afficher les employés qui ont un salaire supérieur ou égal à 3200€ :
              <strong>
                <pre>
  SELECT prenom, service, salaire FROM employes WHERE salaire >= 3200;
                  </pre>
              </strong>
            </li>
          </ul>
          </p>
        </div>
      </div>

      <div class="row border border-dark p-5 m-2">
        <div class="col-sm-12">
          <h2 class="text-center">5 - Créer un ALIAS avec AS</h2>
          <hr>
        </div>
        <div class="col-sm-12 col-md-10 mx-auto mt-5">
          <p>Nous créons un ALIAS pour renommer temporairement une colonne ou une table dans une requête. Cette astuce
            est particulièrement utile pour faciliter la lecture des requêtes.</p>
          <ul>
            <li>SELECT colonne1, colonne2, colonne3 AS colonne FROM nomTable</li>
            <li>
              <strong>
                <code>
                  -> SELECT nom, prenom AS firstname FROM employes
                </code>
              </strong>
            </li>
            <li>
              <strong>
                <code>
                  -> SELECT nom, prenom salaire*12 AS salaireAnnuel FROM employes
                </code>
              </strong>
            </li>
          </ul>
        </div>
      </div>

      <div class="row border border-dark p-5 m-2">
        <div class="col-sm-12">
          <h2 class="text-center">6 - Les conditions et le conditions multiples</h2>
          <hr>
        </div>
        <div class="col-sm-12 col-md-10 mx-auto mt-5">
          <h6 class="text-center"> Le mot-clef <em>WHERE</em> (à condition que)</h6>
          <ul>
            <li class="alert alert-success"> Nous cherchons avec une condition une partie des données :
              <code>
                SELECT colonne, colonne FROM table WHERE colonne = 'donnée'
              </code>
            </li>
            <li>Ici, nous cherchons à afficher les personnes dont le sexe est masculin :
              <code>
                SELECT nom, prenom, sexe FROM employes WHERE sexe = 'm'
              </code>
            </li>
            <li>Trouver la personne qui gagne 7000€ :
              <code>
                SELECT nom, prenom, salaire FROM employes WHERE salaire = 7000
              </code>
            </li>
          </ul>
        </div>
        <div class="col-sm-12 col-md-10 mx-auto mt-5">
          <h6 class="text-center"> Le mot-clef <em>WHERE</em> avec différents champs, différentes valeurs et AND</h6>
          <ul>
            <li>Nous cherchons l'employé qui gagne 5000€ et dont le service est comptabilité
              <strong>
                <code>
                  -> SELECT * FROM employes WHERE salaire = 5000 AND service = 'comptabilité'
                </code>
              </strong>
            </li>
          </ul>
        </div>
        <div class="col-sm-12 col-md-10 mx-auto mt-5">
          <h6 class="text-center"> Le mot-clef <em>WHERE</em> avec différents champs, différentes valeurs et OR</h6>
          <ul>
            <li>Nous cherchons les employés qui gagnent un salaire qui est égale à 5000 euros ou moins de 2000 euros
              <strong>
                <code>
                  -> SELECT prenom, nom, salaire FROM employes WHERE salaire = 5000 OR salaire &lt;=2000;
                </code>
              </strong>
        </div>
        <div class="col-sm-12 col-md-10 mx-auto mt-5">
          <h6 class="text-center"> Le mot-clef <em>WHERE</em> et l'ordre de priorité sur les conditions AND et OR</h6>

          <ul>

            <li> Nous cheerchons à afficher les employés qui travailleent dans le service direction et qui gagnent 4000
              euros ou 7000 euros
              <strong>
                <code> SELECT prenom, nom, service, salaire, FROM employes WHERE service = 'direction' AND salire = 400 Or salaire = 7000</code>
              </strong>

            </li>
            <li>
              Lorsqu'il ya AND et Or au sein de la mêm requête, le système lit la condition de le requête de la droite
              vers la gauche.Ainsi, il verra d'abord <strong> <code> salaire = 400 Or salaire = 7000</code></strong>
              puis le service demandé.

            </li>
            <li>
              Pour garantire l'ordre aturel de lecture (de la gauche vers la droite), nous utilisons des parenthèses:

            </li>
            <li>
              <strong>
                <code>  SELECT prenom, nom, service, salaire, FROM employes WHERE (salaire = 4000 OR salaire = 7000) AND service = 'direction' </code>
              </strong>

            </li>
            <li>

            </li>

          </ul>

        </div>
        <div class="col-sm-12 col-md-10 mx-auto mt-5">
          <h6 class="text-center"> Le mot-clef <em>WHERE</em> avec <em>BETWEEN</em>(entre)</h6>
          <ul>
            <li class="alert alert-sucess">Nous cherchons avec une condition une partie des données <br>
              SELECT * FROM nomTable WHERE colonne BETWEEN donnée AND donnée

            </li>
            <li>
              Nous cherchons à Trouver le nombre ded personnes embauchées entre 2021 et 2023
            </li>
            <li>
              <strong>
                <code>
                SELECT nom, prenom, date_embauche FROM employes WHERE date_embauche BETWEEN '2021-01-01' AND '2023-12-01'
              </code>
              </strong>
            </li>
          </ul>

          <ul>

          </ul>

        </div>
        <div class="col-sm-12 col-md-10 mx-auto mt-5">
          <h6 class="text-center"> Le mot-clef <em>WHERE</em> avec <em>LIKE</em></h6>
          <ul>
            <li>
              Afficher les employés dont le prénom commence par la lettre "s": <br>
              <code>
              SELECT = FROM employes WHERE prenom LIKE 's%'
            </code>
            </li>
            <li>
              Cette méthode sera très utile dans un moteur de recherche
            </li>
            <li>
              Dans cette ligne de code , le pourcentage signifie que l'on recherche le "s" en début du mot, ainsi, la
              suite
            </li>
            <li>
              Afficher les employés dont le prénom contient la lettre "s"
              <strong>
                <code>
                SELECT * FREOM EMPLOYES WHERE prenom LIKE '%s%'
              </code>
              </strong>
            </li>
            <li>
              Avec la présence du pourcentage avant et et après la caractère recherché, nous demandons au système de
              trouver des enregidtrement contenant l'expression recherchée
            </li>


          </ul>

        </div>
        <div class="col-sm-12 col-md-10 mx-auto mt-5">
          <h6 class="text-center"> Le mot-clef <em>WHERE</em> avec <em>CURDATE</em> (date courante)</h6>
          <ul>
            <li class="alert alert-success">
              C'est une fonction prédéfinie- avec ses paranthèses
            </li>
            <li>
              Une requête qui done ma date du serveur, la date du jour:
              <strong>
                <code> SELECT CURDATE ()</code>
              </strong>
            </li>
            <li class="alert alert-danger">
              Dans une BDD, les dates sont toujours au format états-unis en YYY-MM-DD

            </li>
            <li>
              Afficher les employés embauchées entres 2022 et aujourd'hui
              <strong>
                <code>
              SELECT * FROM employes WHERE date_embauche BETWEEN '2022-01-01' AND CURDATE();
            </code>
              </strong>
            </li>

          </ul>

        </div>
        <div class="col-sm-12 col-md-10 mx-auto mt-5">
          <h6 class="text-center"> Le mot-clef <em>WHERE</em> avec <em>IN</em></h6>
          <ul>
            <li>
              Egal (=) permet d'annoncer une seule valeur tandis que IN permet d'annoncer plusieursvaleurs
            </li>
            <li>
              Trouver les employés de la comptabilité et du service informatique :
              <strong>
                <code>
                SELECT * FROM employes WHERE service IN ('comptabilité','informatique');
              </code>
              </strong>
            </li>

          </ul>

        </div>
        <div class="col-sm-12 col-md-10 mx-auto mt-5">
          <h6 class="text-center"> Le mot-clef <em>WHERE</em> avec <em>NOT IN</em></h6>
          <ul>
            <li>
              différent (!=) permet d'exclure une seule valeur tandis que NOT IN permet d'exclure plusieurs valeurs
            </li>
            <li>
              <strong>
                <code>
                SELECT nom,prenom,service FROM employes WHERE service NOT IN ('comptabilité','informatique');
              </code>
              </strong>
            </li>

          </ul>

        </div>
      </div>
      <div class="row border border-dark p-5">
        <div class="col-sm-12">
          <h2 class="text-center"> 7- Classement avec ORDER BY</h2>
          <hr>

          <div class="col-sm-12 mt-5">
         <ul>
          <li>
            Grâce à <em>ORDER BY</em> on va classer les données par ordre alphabétique
          </li>
          <li>
            on range les noms par ordre alphabétique
            <strong>
              <code>
                SELECT prenom, nom FROM employes ORDER BY nom DESC
              </code>
            </strong>
          </li>
          <li>
            ORDER BY permet de trier sur plusieurs colonnes 'tri multiple':
            <strong>
              <code>

              </code>
            </strong>
          </li>

         </ul>

          </div>

        </div>

      </div>
      < class="row border border-dark p-5">
        <div class="col-sm-12">
          <h2 class="text-center"> 8 - Limiter les résultats avec le mot clé <em>Limit</em></h2>
          <hr>

          <div class="col-sm-12 mt-5">

            <ul>
              <li>
                 Afficher les employées en les classant par salaire (du + grand au + petit) et en limitant le résultat à 3 :
                 <strong>
                  <code>
                    SELECT * FROM ORDER BY salaire DESC LIMIT 0,3;
                  </code>
                 </strong>
              </li>
              <li class="alert alert-danger">
                Le premier chiffre précise l'enregistrement de départ : 0 qui définit le premier enregistrement informatique.
                le second chiffre indique combien de résultat nous attendons

              </li>
        
            </ul>

          </div>

        </div>
        <div class="row border border-dark p-5">
          <div class="col-sm-12">
            <h2 class="text-center"> 9 - Réaliser des czlculs dans nos requêtes </h2>
            <hr>
  
            <div class="col-sm-12 mt-5">
              <h6 class="text-center"> Calculer une simme avec <em>SUM()</em> et une moyenne avec8 <em>AVG()</em></h6>
  
              <ul>
               <li>
                Calculer la somme totale des salaires à l'année des employes;
                <strong>
                  <code>
                    SELECT SUM(salaire*12) AS sommeSalaire FROM employes;
                  </code>
                </strong>
               </li>
               <li>
                Caluler le salaire mensuel moyenne de tout les employé
               </li>
              </ul>
  
            </div>
  
          </div>
        </div>

            <div class="col-sm-12 mt-5">
              <h6 class="text-center"> Arrondir avec <em>ROUND()</em></h6>
              <ul>
                  <li>
                   Grâce à <em>ROUND()</em> on peut arrondir le résultat d'un calcul :
                   <strong>
                    <code>
                      SELECT ROUND (AVG(salaire))
                    </code>
                   </strong>
                  </li>
              </ul>
  
            </div>
            <div class="col-sm-12 mt-5">
              <h6 class="text-center"> Compter avec <em>COUNT</em></h6>
  
              <ul>
               <li>
                Grâce à <em>COUNT()</em>on peut compter les lignes dans notre table :

                <strong>
                  <code>
                    SELECT COUNT(*) AS nbr-ligne FROM employes;
                  </code>
                </strong>
               </li>
               <li>
                   Compter et afficher le nombre d'employés de sexe féminin dans la table
                   <strong>
                    <code>SELECT COUNT(*) AS nbr_ligne FROM employes WHERE sexe = 'f';</code>
                   </strong>
               </li>
              </ul>
  
            </div>
            <div class="col-sm-12 mt-5">
              <h6 class="text-center"> Isoler une valeur minimum et maximum <em>MIN() / MAX()</em></h6>
  
              <ul>
               <li>
                Grâce à <em>MIN()</em>on peut trouver le salaire minimum :

                <strong>
                  <code>
                    SELECT Min(salaire) FROM employes;
                  </code>
                </strong>
               </li>
               <li>
                Grâce à <em>MAX()</em>on peut trouver le salaire minimum :
                   <strong>
                    <code>SELECT COUNT(*)  FROM employes WHERE sexe = 'f';</code>
                   </strong>
               </li>
              </ul>
  
            </div>
            <div class="row border border-dark p-5 m-2">
              <div class="col-sm-12">
                <h2 class="text-center">10 - Les regroupement avec GROUP BY</h2>
               <hr>
              </div>
              <div class="col-sm-12 mt-5">

                <ul>
                  <li>Ici on veut connaitre le nombre d'employés par service
                    <strong>
                      <code>
                        SELECT service, COUNT(*) AS nbr_Employe FROM, employes GROUP BY service;
                      </code>
                    </strong>
                  </li>

                </ul>

              </div>
            </div>

            <div class="row border border-dark p-5 m-2">
              <div class="col-sm-12">
                <h2 class="text-center">11 - Le mot clef HAVING </h2>
               <hr>
              </div>
              <div class="col-sm-12 mt-5">

                <ul>
                <li>
                  Sélectionneret afficher seulment lers services qui ont plus de deux employés: <br>
                  <strong>
                    <code>
                      SELECT service, COUNT(*) AS nbr_Employe FROM employe GROUP BY service HAVING COUNT(*) > 2
                    </code>
                  </strong>
                </li>

                </ul>

              </div>
            </div>

            <div class="row border border-dark p-5 m-2">
              <div class="col-sm-12">
                <h2 class="text-center">12 -Requête de modification </h2>
               <hr>
              </div>
              <div class="col-sm-12 mt-5">
                <h6 class="text-center"> Mise a  jour avec UPDATE</h6>

                <ul>
                <li>
                  Augmenter le salaire d'un employé :
                  <strong>
                    <code>
                      UPDATE employes SET salaire = 2700 WHERE id_employe = 300
                    </code>
                  </strong>
                </li>
                <li class="alert alert-danger">
                  on utilise toujours des id pour mettre à jour les informations de la base de données car c'est le seul élément unique
                </li>
                <li>
                  Pour faire plusieurs mises à jour en même temps il faudra séparer les données par une virgule :
                  <strong>
                    <code>
                      UPDATE employes SET service = 'direction' , salaire = 4000 WHERE id_employe=300
                    </code>
                  </strong>
                </li>

                </ul>

              </div>
            </div>

            <div class="col-sm-12 mt-5">
              <h6 class="text-center"> Supprimer avec DELETE</h6>

              <ul>
              <li>
                 Supprimer l'enregistrement d'un employé avec DELETE
                <strong>
                  <code>
                 DELETE FROM employe WHERE id_employe = 910
                  </code>
                </strong>
              </li>
              <li>
                Supprimer plusieur enregistrement avec le code suivant ( on supprime toute les personnes du service contrôle)
                <strong>
                  <code>
                    DELETE FROM employes WHERE service = 'contrôle';
                  </code>
                </strong>
              </li>

              </ul>

            </div>
          </div>
          <div class="row border border-dark p-5 m-2">
            <div class="col-sm-12">
              <h2 class="text-center">13 -Requête de imbriquées </h2>
             <hr>
            </div>
            <div class="col-sm-12 mt-5">
              <ul>
                <li>Consiste à éxécuter une requête à l'intérieur d'une autre requête, encapsulée dans une autre requête, il n'y a pas de limite dans le nombre de niveaux d'imbrication</li>
                
                <li>
                  Le résultat de chaque requête imbriquée sert de valeur de référence dans la condition de sélection de la requête de niveau supérieur, appelée requête principal
                </li>
                <li>
                  Afin d'avoir un cas concret et un contexte favorable à ce type de requête, nous allons moéliser la base de données d'une bibliothéque
                </li>
              </ul>
              <h4 class="text-center"> 1- Une BDD bibliothèque</h4>
              <p>Les sujets d'une BDD bibliothèque</p>
              <ul>
                <li>Une table des <strong>Livres</strong></li>
                <li>Unetable des <strong>abonnés</strong></li>
                <li>Une table <strong>emprunt</strong> qui permet de savoir quel livre a été emprunté par quel abonné et à quel date</li>
              </ul>
              <p class="alert alert-danger">Ici, on commence à mobiloiser notre base de données en réfléchissant à ce qui va aller dedans</p>
              
              <div class="col-sm12 col-md-4">
                <img src="assets/img/abonne.png" alt="Image représentant la table abonnes" class="img-fluid">

              </div>

              <div class="col-sm12 col-md-4">
                <img src="assets/img/livre.png" alt="Image représentant la table livres" class="img-fluid">

              </div>
              <div class="col-sm12 col-md-4">
                <img src="assets/img/emprunt.png" alt="Image représentant la table emprunt" class="img-fluid">

              </div>
            </div>
            <div class="col-sm-12">
              <ul>
                <li>
                  <h6>Création de la BDD</h6>
                  <strong>
                    <code>
                      -> CREATE DATABASE IF NOT EXISTS bibliothèque DEFAULT CHARACTER SET = 'utf8mb4';
                    </code>
                  </strong>
                </li>
              </ul>

            </div>
            <div class="col-sm-12 col-md-4">
              <ul>
                <li>
                  <h6>Création de la première tab le abonnes</h6>
                  <strong>
                    <code>
                      -> CREATE TABLE IF NOT EXISTS  abonnes( <br>
                      id_abonne INT(11) NOT NULL PRIMARY KEY AUTO INCREMENT,
                      prenom VARCHARD(20)  NOT NULL
                      )
                    </code>
                  </strong>
                </li>
              </ul>

            </div>
            <div class="col-sm-12 col-md-4">
              <ul>
                <li>
                  <h6>Création de la deuxième table livres </h6>
                  <strong>
                    <code>
                      -> CREATE TABLE IF NOT EXISTS livres( <br>
                      id_livre INT(3) NOT NULL PRIMARY KEY AUTO INCREMENT, <br>
                      auteur VARCHARD(30)  NOT NULL,
                      titre VARCHARD(30) NOT NULL
                      );
                    </code>
                  </strong>
                </li>
              </ul>

            </div>
            <div class="col-sm-12 col-md-4">
              <ul>
                <li>
                  <h6>Création de la table table emprunt </h6>
                  <strong>
                    <code>
                      -> CREATE TABLE IF NOT EXISTS emprunt( <br>
                      id_emprunt INT(3) NOT NULL PRIMARY KEY AUTO INCREMENT, <br>
                      date_sortie DATE  NULL, <br>
                      date_rendu DATE  NULL, <br>
                      id_livre INT(3) NULL, <br>
                      id_abonne INT(3) NULL <br>
                      );
                    </code>
                  </strong>
                </li>
              </ul>

            </div>
            <div class="col-sm-12 col-md-4">
              <ul>
                <li>
                  <h6>Création des clef étrangères </h6>
                  <ul>
                     <li>Dans la table emprunt, id_livre sera un champ clé étrangère en référence au champ id_livre de la table livres <br>
                      <strong>
                        <code>
                          -> ALTER TABLE emprunt ADD foreign key (id_livre) REFERENCES bibliothèque.livres(id_livre)
                          -> ALTER TABLE emprunt ADD foreign key (id_livre) REFERENCES bibliothèque.abonnes(id_abonne)
                        </code>
                      </strong>
                    </li>
                  </ul>
                  
                </li>

              </ul>

            </div>
            <div class="col-sm-12 col-md-4">
              <ul>
                <li>
                  <h6>Création des clef étrangères </h6>
                  <ul>
                     <li>Dans la table emprunt, id_livre sera un champ clé étrangère en référence au champ id_abonne de la table livres <br>
                      <strong -> ALTER TABLE emprunt ADD foreign key (id_livre) REFERENCES bibliotheque.abonnes(id_abonne)
                        <code>
                         
                        </code>
                      </strong>
                    </li>
                  </ul>
                  
                </li>

              </ul>

            </div>
            <div class="col-sm-12 col-md-12mt-5">
              <ul>
                <li>
                  <strong>
                    <code>
                      INSERT INTO abonnes (prenom) VALUES <br>
                      ('Guillaume'), <br>
                      ('Benoit'), <br>
                      ('Patrick'), <br>
                      ('Jalloul'), <br>
                      ('Jamila');
                    </code>
                  </strong>
                </li>

              </ul>

            </div>
            <div class="col-sm-12 col-md-12mt-5">
              <ul>
                <li>
                  <strong>
                    <code>
                      INSERT INTO Livres (id_livre, auteur, titre) VALUES <br>
                      (100, 'GUY DE MAUPASSANT', 'Une vie'), <br>
                      (101, 'GUY DE MAUPASSANT', 'Bel-Ami '), <br>
                      (102, 'HONORE DE BALZAC', 'Le père Goriot'), <br>
                      (103, 'ALPHONSE DAUDET', 'Le Petit chose'), <br>
                      (104, 'ALEXANDRE DUMAS', 'La Reine Margot'), <br>
                      (105, 'ALEXANDRE DUMAS', 'Les Trois Mousquetaires');
                  </code>
                    </code>
                  </strong>
                </li>

              </ul>

            </div>
            <div class="col-sm-12 col-md-4">
              <ul>
                  <li>
                    <strong>
                      <code>INSERT INTO emprunt (id_emprunt, id_livre, id_abonne, date_sortie, date_rendu) VALUES <br>
                          (NULL, 100, 1, '2014-12-17', '2014-12-18'), <br>
                          (NULL, 101, 2, '2014-12-18', '2014-12-20'), <br>
                          (NULL, 100, 3, '2014-12-19', '2014-12-22'), <br>
                          (NULL, 103, 4, '2014-12-19', '2014-12-22'), <br>
                          (NULL, 104, 1, '2014-12-19', '2014-12-28'), <br>
                          (NULL, 105, 2, '2015-03-20', '2015-03-26'), <br>
                          (NULL, 105, 3, '2015-06-13', NULL), <br>
                          (NULL, 100, 2, '2015-06-15', NULL);
                        </code>
                     </strong>
                  </li>
              </ul>
          </div>
          <div class="col-sm-12 mt-5">
            <h6>Exemple requêtes</h6>
            <ul>
              <li>
                On recherche les livres qui n'ont pas encore été <div class="d-none">
                  <strong>
                    <code>
                      SELECT id_livre FROM emprunt WHERE date_rendu IS NULL.
                    </code>
                  </strong>
              </li>
              <li class="alert alert-danger"> Pour trouver un résultat est null on utilise le terme <em>IS</em>
              <code>SELECT id_livre FROM emprunt WHERE date_rendu = NULL;</code> ne retourne aucun résultat
            </li>
            <li>
              on cherche les titres des livres qui n'ont pas été rendu : <br>
              <strong>
                <code>
                  -> SELECT titre, id_livre FROM livres WHERE id_livre IN (  SELECT id_livre FROM emprunt WHERE date_rendu IS NULL);
                </code>
              </strong>
            </li>
            <li>
              on cherche maintenant les id des livres que patrick à emprunté : <br>
              si je cinnais l'id de patrick j epeux exécuter :
              <strong>
                <code>
                  -> SELECT id_livre FROM emprunt WHERE id_abonne = 3
                </code>
              </strong>
              <br>
              si je ne connais pas l'id de Patrick
              <strong>
                <code>
                  SELECT id_livre FROM emprunt WHERE id_abonne IN(SELECT id_abonne FROMabonnes WHERE prenom = 'Patrick')
                </code>
              </strong>
            </li>
            <li>
              on cherche maintenant les titres des livres que Patrick à emprunté <br>
              <strong>
                <code>
                  SELECT titre,id_livre FROM livres WHERE id_livre IN (SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes WHERE prenom = 'Patrick'))
                </code>
              </strong>
            </li>
            <li>
              On cherche maintenat le prenom des abonnées ayant emprunté un livre le 2024-12-19
              <strong>
                <code>
                  ->SELECT prenom,id-abonne FROM WHERE id_abonne IN (SELECT id_abonne FROM EMPRUNT WHERE date_sortie = 2014-12-19)
                </code>
              </strong>
            </li>
            <li>
              Afficher la liste des abonnés ayant emprunté un livre de Daudet <br>
              <strong>
                <code>
                  -> SELECT id_abonne,prenom FROM abonnes WHERE id_abonne IN(SELECT id_abonne FROM emprunt WHERE id_livre IN(SELECT id_livre FROM livres WHERE auteur LIKE '%DAUDET')); 
                </code>
              </strong>
            </li>
            <li>
              Afficher les titres de livre que Benoit a umprunté à la bibliothèque
              <strong>
                <code>
                  SELECT titre FROM livres WHERE id_livre IN ( SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes WHERE prenom ='Benoit')); 
                </code>
              </strong>
            </li>
            <li>
              Afficher les titres des livres que Benoit n'a pas emprunté
              <strong>
                <code>
                  SELECT titre FROM livres WHERE id_livre NOT IN(SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes WHERE prenom = 'Benoit')); 
                </code>
              </strong>
            </li>
            <li>
              Afficher les titres des livres que Benoit n'a pas encore rendu à la bibliothèque
              <strong>
                <code>
                  SELECT titre FROM Livres WHERE id_livre IN(SELECT id_livre FROM emprunt WHERE date_rendu IS NULL AND id_abonne IN(SELECT id_abonne FROM abonnes WHERE prenom = 'Benoit'));
                </code>
              </strong>
            </li>
            <li>
              Combien de livres Guillaume a emprunté à la bibliothèque ?
              <strong>
                <code>
                SELECT COUNT(*) AS nbr_livres_guillaume FROM livres WHERE id_livre IN (SELECT id_livre FROM emprunt WHERE id_abonne IN (SELECT id_abonne FROM abonnes WHERE prenom = 'Guillaume'))

                </code>
              </strong>
            </li>
            <li>
              Quel est le livre qui n'a été emprunté par personne
              <strong>
                <code>
                  SELECT titre FROM WHERE id_livre NOT IN (SELECT id_livre FROM emprunt )
                </code>
              </strong>
            </li>
            <li>
              Combien de personnes ont emprunté le livre Une vie ?
              <strong>
                <code>
                  SELECT COUNT(prenom) FROM abonne WHERE id_abonneIN(SELECT id_abonne FROM emprunt WHERE id_livre IN (SELECT id_livre FROM livres WHERE titre WHERE titre = 'Une vie'))
                </code>
              </strong>
            </li>
            <li>
              Quel livre a été emprunté le dernier ?
              <strong>
                <code>
                  SELECT titre FROM livres WHERE id_livre IN(SELECT id_livre FROM emprunt ORDER BY date_sortie DESC) LIMIT 1 ;
                </code>
              </strong>
            </li>
            </ul>
        </div>


      </div>
       <div class="row m-2 border border-park p-2"></div>
       <div class="col-sm-12">
        <h2 class="text-center">14- Les jointures</h2>
       </div>
       <hr>
       <div class="col-sm-12 mt-5">
        <ul>
          <li>Les reqiêtes de jointure permettent l'extraction des données de plusieurs tables</li>
          <li>L'avantage des jointures est que l'ont peut obtenir dans le résultat final des colonnes(des champs) issues de plusieurs tables différentes</li>
        </ul>
        <h6>Récapitulatif</h6>
        <ul>
          <li><code>SELECT</code>: va comporter la liste des champs que je souhaite afficher dans mon résultat</li>
          <li><code>FROM</code>: je précise de quelle tables je me sers dans ma requete</li>
          <li><code>WHERE</code>: va permetre de définir la condition de jointure pour assurer le croissement des donnés</li>
          <li><code>AND/OR</code>: autre condition nécéssaire à mon résultat</li>
        </ul>

      </div>
      <div class="col-sm-12 mt-5">
        <ul>
          <li>
            Dans la bibliothèque, afficher les dates auxquelles Guillaume s'est rendu à la bibliothèque pour emprunter ou rendre un livre, on a besoin de trois colonnes: le prénom, la date_sortie et la date_rendu <br>
            <strong>
              <code>
                SELECT abonnes.prenom,emprunt.date_sortie,date_rendu FROM abonnes, emprunt WHERE abonnes.prenom ='Guillaume' AND abonnes.id_abonne = emprunt.id_abonne
              </code>
            </strong>
          </li>
          <li>
            La meme chose avec des préfixes : <br>
            <strong>
              <code>
                SELECT a.prenom,e.date_sortie,date_rendu FROM abonnes, e WHERE a.prenom ='Guillaume' AND a.id_abonne = e.id_abonne
              </code>
            </strong>
          </li>
          <li>
            Qui a emprunté le livre "une vie" en 2014, afficher le prenom, date_sortie et le titre du livre
            <strong>
              <code>
                SELECT abonnes.prenom, emprunt.date_sortie, livres.titre FROM abonnes , emprunt, livres WHERE livres.titre = 'Une vie' AND emprunt.daate_sortie LIKE '2014%' AND abinnes.id_abonne = AND livres.id_livre = emprunt.id_livre
              </code>
            </strong>
            <br>
          </li>
          <li>
            Afficher le nombre de livre empruntés par chaque abonné : le prenom et le nombre de livre
            <strong>
              <code>
                SELECT abonnes.prenom, COUNT(emprunt.id_livre) AS nbr_livre from ABONNES? EMPRUNT WHERE abonne = emprunt.id_abonne GROUP BY emprunt.id_abonne 
              </code>
            </strong>
          </li>
          <li>
            Qui a emprunté quoi et quand ?
            <strong>
              <code>
                SELECT abonnes.prenom, livres.titre  emprunt.date_sortie FROM abonnes,livres,emprunt = abonnes.prenom AND livres.id_livre = emprunt.date__sortie
              </code>
            </strong>
          </li>
          <li>
            Afficher le prénom des abonnés avec l'id des Livres empruntés :
            <strong>
              <code>
                SELECT abonnes.prenom , livres.id_livre FROM abonnes,livres,emprunt WHERE abones.id_abonne = emprunt.id"_abonne
              </code>
            </strong>
          </li>

        </ul>
      </div>



    </main>

  </div>
  <footer>
    <!-- place footer here -->
  </footer>
  <!-- Bootstrap JavaScript Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
    crossorigin="anonymous"></script>
</body>

</html>